(this.webpackJsonpsmileinspector=this.webpackJsonpsmileinspector||[]).push([[0],{131:function(e,t,n){"use strict";var c,r,i=n(11),a=n.n(i),l=n(44),o=n(82),s=n(21),j=n(428),u=n(240),b=n(59),f=n(245),d=n(58),O=n(26),p=n(242),x=n(244),h=n(8),m=n(230),y=n.n(m),v=n(231),S=n.n(v),C=n(132),F=n.n(C),g=n(232),T=n.n(g),I=n(233),B=n.n(I),A=n(234),w=n.n(A),P=n(235),L=n.n(P),k=n(236),U=n.n(k),D=n(237),M=n.n(D),R=n(0),N=n(31),E=n(229),J=n.n(E),H=n(2),W=(c={},Object(s.a)(c,h.SmileBASICFileType.Text,y.a),Object(s.a)(c,h.SmileBASICFileType.Data,S.a),Object(s.a)(c,h.SmileBASICFileType.Project3,F.a),Object(s.a)(c,h.SmileBASICFileType.Project4,F.a),Object(s.a)(c,h.SmileBASICFileType.Meta,T.a),Object(s.a)(c,h.SmileBASICFileType.Jpeg,B.a),c),G=(r={},Object(s.a)(r,h.SmileBASICFileType.Text,"Text file"),Object(s.a)(r,h.SmileBASICFileType.Data,"Data file"),Object(s.a)(r,h.SmileBASICFileType.Project3,"Project (SmileBASIC 3)"),Object(s.a)(r,h.SmileBASICFileType.Project4,"Project (SmileBASIC 4)"),Object(s.a)(r,h.SmileBASICFileType.Meta,"Project Metadata"),Object(s.a)(r,h.SmileBASICFileType.Jpeg,"JPEG image"),r),_=Object(j.a)((function(e){return{listIcon:{marginRight:e.spacing(2)}}}));function q(){return(q=Object(o.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ConvertFile(n,{nice:!0});case 2:c=e.sent,r=new Blob([c],{type:t.ReturnedMimeType}),J.a.saveAs(r,"download");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(e){var t=e.converter,n=e.file;return Object(H.jsx)(u.a,{onClick:function(){return function(e,t){return q.apply(this,arguments)}(t,n)},children:t.ShortName})},K=function(e){var t=e.file,n=Object(R.useState)(),c=Object(l.a)(n,2),r=c[0],i=c[1],a=_();return Object(R.useEffect)((function(){t.ToActualType().then((function(e){switch(e.Type){case h.SmileBASICFileType.Text:N.CodeFileConverter.ConvertFile(e).then((function(e){return i((function(){return function(){return Object(H.jsx)("iframe",{sandbox:"allow-scripts",seamless:!0,srcDoc:e.toString("utf8"),style:{height:"20em",width:"100%"},title:"Code"})}}))}));break;case h.SmileBASICFileType.Meta:N.IconFileConverter.ConvertFile(e).then((function(t){return i((function(){return function(){return Object(H.jsx)(b.a,{children:Object(H.jsx)(f.a,{children:Object(H.jsxs)(d.a,{children:[Object(H.jsx)("img",{src:URL.createObjectURL(new Blob([t],{type:N.IconFileConverter.ReturnedMimeType})),alt:"icon",className:a.listIcon}),Object(H.jsx)(O.a,{variant:"h5",children:e.Content.ProjectName})]})})})}}))}));break;case h.SmileBASICFileType.Data:N.PngFileConverter.CanConvertFile(e).then((function(t){t?N.PngFileConverter.ConvertFile(e).then((function(e){return i((function(){return function(){return Object(H.jsx)("img",{src:URL.createObjectURL(new Blob([e],{type:N.PngFileConverter.ReturnedMimeType})),style:{maxHeight:"300px",maxWidth:"300px"},alt:"img preview"})}}))})):i((function(){return function(){return Object(H.jsx)(O.a,{children:"Can't be previewed."})}}))}));break;case h.SmileBASICFileType.Jpeg:N.JpegFileConverter.ConvertFile(e).then((function(e){return i((function(){return function(){return Object(H.jsx)("img",{src:URL.createObjectURL(new Blob([e],{type:N.PngFileConverter.ReturnedMimeType})),style:{maxHeight:"300px",maxWidth:"300px"},alt:"img preview"})}}))}));break;default:i((function(){return function(){return null}}))}}))}),[t]),r?Object(H.jsx)(r,{}):Object(H.jsx)(O.a,{children:"Loading..."})};t.a=function(e){var t=e.file,n=e.name,c=_(),r=null===W||void 0===W?void 0:W[t.Type],i=Object(R.useState)(),a=Object(l.a)(i,2),o=a[0],s=a[1];return Object(R.useEffect)((function(){Object(N.GetSupportedFileConverters)(t).then((function(e){s(e)})).catch((function(e){alert(e.stack)}))}),[t]),Object(H.jsx)(p.a,{children:Object(H.jsxs)(x.a,{children:[Object(H.jsxs)(O.a,{variant:"h5",children:[n&&"(".concat("META"===n?n:n.substr(1),") ")," File information:"]}),Object(H.jsx)("br",{}),Object(H.jsxs)(b.a,{children:[Object(H.jsxs)(f.a,{component:"nav",children:[Object(H.jsxs)(d.a,{children:[Object(H.jsx)(r,{className:c.listIcon}),Object(H.jsx)(O.a,{children:G[t.Type]})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(w.a,{className:c.listIcon}),Object(H.jsx)(O.a,{title:"User ID ".concat(t.Header.Editor.UID),children:t.Header.Editor.Username})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(L.a,{className:c.listIcon}),Object(H.jsx)(O.a,{children:"".concat(t.RawContent.length.toLocaleString()," bytes")})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(U.a,{className:c.listIcon}),Object(H.jsx)(O.a,{children:"".concat(t.Header.LastModified.toLocaleString())})]}),Object(H.jsxs)(d.a,{children:[Object(H.jsx)(M.a,{className:c.listIcon}),Object(H.jsx)(O.a,{children:null==o?"Loading...":o.map((function(e){return Object(H.jsx)(z,{file:t,converter:e},e.ShortName)}))})]})]}),Object(H.jsx)(K,{file:t})]})]})})}},221:function(e,t,n){"use strict";(function(e){var c=n(11),r=n.n(c),i=n(82),a=n(44),l=n(222),o=n(0),s=(n(258),n(59)),j=n(429),u=n(430),b=n(431),f=n(26),d=n(432),O=n(238),p=n.n(O),x=n(223),h=n(8),m=n(131),y=n(2);function v(e){var t=e.file;console.log(t.Content.Files);var n,c=[],r=Object(l.a)(t.Content.Files.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;console.log(i),c.push([i,t.Content.Files.get(i)])}}catch(o){r.e(o)}finally{r.f()}return Object(y.jsx)(s.a,{my:4,ml:4,children:c&&c.map((function(e){var t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(y.jsx)(s.a,{my:4,children:Object(y.jsx)(m.a,{file:c,name:n})},n)}))})}t.a=function(){var t=Object(o.useState)(),n=Object(a.a)(t,2),c=n[0],l=n[1],O=Object(o.useState)(!1),S=Object(a.a)(O,2),C=(S[0],S[1]),F=function(){var t=Object(i.a)(r.a.mark((function t(n){var c,i,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(c=n.currentTarget.files)||void 0===c?void 0:c[0])){t.next=14;break}return C(!0),t.t0=e,t.next=5,n.currentTarget.files[0].arrayBuffer();case 5:return t.t1=t.sent,i=t.t0.from.call(t.t0,t.t1),t.next=9,h.SmileBASICFile.FromBuffer(i);case 9:return t.next=11,t.sent.ToActualType();case 11:a=t.sent,l(a),C(!1);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{position:"static",children:Object(y.jsxs)(u.a,{children:[Object(y.jsx)(b.a,{edge:"start",color:"default","aria-label":"menu",children:Object(y.jsx)(p.a,{})}),Object(y.jsx)(f.a,{variant:"h6",color:"textPrimary",children:"SmileInspector"})]})}),Object(y.jsxs)(d.a,{maxWidth:"md",children:[null!=c&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.a,{my:4,children:Object(y.jsx)(m.a,{file:c})}),(c.Type===h.SmileBASICFileType.Project3||c.Type===h.SmileBASICFileType.Project4)&&Object(y.jsx)(v,{file:c})]}),Object(y.jsx)(s.a,{my:4,children:Object(y.jsx)(x.a,{id:"fileupload",onUpload:F})})]})]})}}).call(this,n(3).Buffer)},223:function(e,t,n){"use strict";var c=n(224),r=n(240),i=n(242),a=n(244),l=n(26),o=(n(0),n(2));function s(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("input",Object(c.a)({style:{display:"none"},type:"file"},e)),Object(o.jsx)("label",{htmlFor:e.id,children:Object(o.jsx)(r.a,{variant:"contained",color:"primary",component:"span",children:"Upload"})})]})}t.a=function(e){var t=e.id,n=e.onUpload;return Object(o.jsx)(i.a,{children:Object(o.jsxs)(a.a,{children:[Object(o.jsx)(l.a,{variant:"h5",children:"Load a file"}),Object(o.jsx)("br",{}),Object(o.jsx)(s,{id:t,onChange:n})]})})}},254:function(e,t,n){},258:function(e,t,n){},265:function(e,t){},267:function(e,t){},287:function(e,t){},289:function(e,t){},317:function(e,t){},318:function(e,t){},323:function(e,t){},325:function(e,t){},332:function(e,t){},351:function(e,t){},393:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=393},425:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(37),a=n.n(i),l=(n(254),n(221)),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,445)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},s=n(442),j=n(443),u=n(239),b=Object(u.a)({palette:{type:"dark",primary:{main:"#34BDDF"},secondary:{main:"#f9a825"}}}),f=n(2);a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsxs)(s.a,{theme:b,children:[Object(f.jsx)(j.a,{}),Object(f.jsx)(l.a,{})]})}),document.getElementById("root")),o()}},[[425,1,2]]]);
//# sourceMappingURL=main.a549872c.chunk.js.map